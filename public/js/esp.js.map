{"version":3,"sources":["app.js","GenericTableDirective.js","EditButtonDirective.js","EspController.js","EspApiService.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACRA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACbA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACZA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC1CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"esp.js","sourcesContent":["/**\n * MT2 App Module\n */\nvar mt2App = angular.module( 'mt2App' , [] );\n\nmt2App.config( function ( $locationProvider ) {\n    $locationProvider.html5Mode( true );\n} );\n","mt2App.directive( 'genericTable' , function () {\n    return {\n        \"scope\" : {} ,\n        \"controller\" : function () {} ,\n        \"controllerAs\" : \"ctrl\" , \n        \"bindToController\" : { \n            \"headers\" : \"=\" ,\n            \"records\" : \"=\" ,\n            \"editclickhandler\" : \"=\"\n        } ,\n        \"templateUrl\" : \"js/templates/generic-table.html\"\n    };\n} );\n","mt2App.directive( 'editButton' , function () {\n    return {\n        \"scope\" : {} ,\n        \"controller\" : function () {} ,\n        \"controllerAs\" : \"ctrl\" ,\n        \"bindToController\" : {\n            \"clickhandler\" : \"&\" ,\n            \"recordid\" : \"=\"\n        } ,\n        \"templateUrl\" : \"js/templates/edit-button.html\"\n    };\n} );\n","mt2App.controller( 'espController' , [ '$window' , '$location' , '$timeout' , '$sce' , '$log' , 'EspApiService' , function ( $window , $location , $timeout , $sce ,$log , EspApiService ) {\n    var self = this;\n\n    self.headers = [ '' , 'ID' , 'ESP' , 'Account' , 'Created' , 'Updated' ];\n    self.accounts = [];\n\n    self.currentAccount = { \"espId\" : \"\" , \"id\" : \"\" , \"accountName\" : \"\" , \"key1\" : \"\" , \"key2\" : \"\" };\n\n    self.loadAccount = function () {\n        var pathMatches = $location.path().match( /^\\/esp\\/edit\\/(\\d{1,})/ );\n\n        EspApiService.getAccount( pathMatches[ 1 ] , function ( response ) {\n            self.currentAccount.id = response.data.id;\n            self.currentAccount.accountName = response.data.account_name;\n            self.currentAccount.key1 = response.data.key_1;\n            self.currentAccount.key2 = response.data.key_2;\n        } )\n    }\n\n    self.loadAccounts = function () {\n        EspApiService.getAccounts( function ( response ) {\n            self.accounts = response.data;\n        } );\n    };\n\n    self.viewAdd = function () {\n        $window.location.href = \"esp/create\";\n    };\n\n    self.viewEdit = function () {\n        $log.log( self.recordid );\n        //$window.location.href = \"esp/edit/\"\n    };\n\n    self.saveNewAccount = function () {\n        EspApiService.saveNewAccount( self.currentAccount );\n    };\n\n    self.editAccount = function () {\n        EspApiService.editAccount( self.currentAccount );\n    }\n} ] );\n","mt2App.service( 'EspApiService' , function ( $http , $log ) {\n    var self = this;\n\n    self.baseApiUrl = '/api/esp';\n\n    self.getAccount = function ( id , successCallback ) {\n        $http( { \"method\" : \"GET\" , \"url\" : this.baseApiUrl + '/' + id } )\n            .then( successCallback ,\n                function ( response ) {\n                    $log.log( response );\n                }\n            );\n    }\n\n    self.getAccounts = function ( successCallback ) {\n        $http( { \"method\" : \"GET\" , \"url\" : this.baseApiUrl } )\n            .then( successCallback ,\n                function ( response ) {\n                    $log.log( response );\n                }\n            );\n    }\n\n    self.saveNewAccount = function ( newAccount ) {\n        $http( {\n            \"method\" : \"POST\" ,\n            \"url\" : this.baseApiUrl ,\n            \"data\" : newAccount\n        } );\n    }\n\n    self.editAccount = function ( account ) {\n        var request = account;\n\n        request[ '_method' ] = 'PUT';\n\n        $http( {\n            \"method\" : \"PUT\" ,\n            \"url\" : this.baseApiUrl + '/' + account.id ,\n            \"data\" : request\n        } );\n    }\n} );\n"],"sourceRoot":"/source/"}